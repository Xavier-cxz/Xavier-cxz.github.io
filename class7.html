<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>class06</title>

	<meta name="description" content="class07" >

	<meta name="author" content="Xavier">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- Mobile Specific Meta -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->

	<!-- Bootstrap  -->
	<link href="assets/css/bootstrap.min.css" rel="stylesheet">

	<!-- icon fonts font Awesome -->
	<link href="assets/css/font-awesome.min.css" rel="stylesheet">

	<!-- Import Magnific Pop Up Styles -->
	<link rel="stylesheet" href="assets/css/magnific-popup.css">

	<!-- Import Custom Styles -->
	<link href="assets/css/style.css" rel="stylesheet">

	<!-- Import Animate Styles -->
	<link href="assets/css/animate.min.css" rel="stylesheet">

	<!-- Import owl.carousel Styles -->
	<link href="assets/css/owl.carousel.css" rel="stylesheet">

	<!-- Import Custom Responsive Styles -->
	<link href="assets/css/responsive.css" rel="stylesheet">

	
	<!--[if IE]>
  		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  		<![endif]-->

  	</head>
  	<body class="header-fixed-top">

  		<div id="page-top" class="page-top"></div><!-- /.page-top -->

  		<section id="top-contact" class="top-contact">
  			<div class="container">
          <div class="row">
            <div class="col-sm-8 pull-left">
              <ul class="contact-list">
                <li>
                  <a class="info" href="#">
                    <span class="top-icon"><i class="fa fa-envelope"></i></span>
                    congxzh@shanghaitech.edu.cn
                  </a>
                </li>
                <li>
                  <a class="phone-no" href="#">
                    <span class="top-icon"><i class="fa fa-phone"></i></span>
                    18817376673
                  </a>
                </li>
              </ul>
            </div>
          </div><!-- /.row -->
        </div><!-- /.container -->
  		</section><!-- /#top-contact --><div class="copyrights"></div>



  		<section id="site-banner" class="site-banner text-center">
  			<div class="container">
  				<div class="site-logo">
  					<a href="./"><img src="images/logo.png" alt="Site Logo"></a>
  				</div><!-- /.site-logo -->
  			</div><!-- /.container -->
  		</section><!-- /#site-banner -->

<div class="page-header">
    <div class="post-area-top text-center">
        <h2 class="post-area-title">starting OUR work</h2>
        
      </div><!-- /.post-area-top -->
 <br /><br />
        <h1>Tools</h1>
      </div>
      <div class="row">
        <div class="col-md-12">
          <table class="table">
            <thead>
              <tr>
                <th>#</th>
                <th>Name</th>
                <th>Number</th>
                <th>Note</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Shanghaiuno board</td>
                <td>1</td>
                <td>Arduino UNO is OK too</td>
              </tr>
              <tr>
                      <td>2</td>
                      <td>Potentialmeter</td>
                      <td>5</td>
                      <td>The number is determined by you</td>
              </tr>
              <tr>
                <td>3</td>
                <td>Slient Buzzer</td>
                <td>5</td>
                <td>The number is the same as potentialmeter</td>
              </tr>
              <tr>
                  <td>4</td>
                  <td>Button</td>
                  <td>1</td>
                  <td>###</td>
              </tr>
              <tr>
                  <td>5</td>
                  <td>LED light</td>
                  <td>2</td>
                  <td>Different colours</td>
              </tr>
              <tr>
                  <td>6</td>
                  <td>Wires</td>
                  <td>Decided by you</td>
                  <td>###</td>
              </tr>
              <tr>
                  <td>7</td>
                  <td>Breadboard</td>
                  <td>1</td>
                  <td>###</td>
              </tr>
            </tbody>
          </table>
          </div></div>
        <br/><br/><br/>
     <div class="post-area-top text-center">
        <h2 class="post-area-title">FIgure out the final work</h2>
        
      </div><!-- /.post-area-top -->
      <div class="row">
        <div class="col-sm-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title"></h3>
            </div>
            <li><div class="panel-body">
                <p style="margin-left: auto">We have done a very simple circuit to realize playing some simple music such as Happy Song. Then, this is our core, we need to plus some more features on it. Actually, what I want to finally present is an effector, which can change the output frequency by control some types of input.</p>
                </div></li>
            <li>As the most suitable and simple adjuster(I don't want to use the distance sensor and some other sensors bacause it is not stable.), potentialmeter could be the one for my the circuit. By calculating its number of voltage and the frequency of inital sound, it can certainly change the sound.</li>
          </div><br/><br/><br/>
     <div class="post-area-top text-center">
        <h2 class="post-area-title">programming</h2>
        
      </div><!-- /.post-area-top -->
          <div class="panel panel-primary">
            <div class="panel-heading">
            </div>
            <div class="panel-body">
                <li>Firstly, I only add one potentialmeter on my circuit and construct a program for one potentialmeter. The main code is</li>
             <li>int add_val1 = -200+(int)(analogRead(A0)/2.5)</li>
             <li>for (int x=0;x smaller than length;x++)</li>
             <li>tone(outpin,tune[x]+add_val1)</li>
            <p><li>The code above is realize the function that by rotating the potentialmeter you can change the sound of happy song! Forgiving me, I didn't take a picture of that, but there was a problem here, we had a very strange sound, and the most important thing was that the change wasn't very obvious. We spend a little time solving this stupid problem. Exactly because there was a delay, if we cancel the dealy, there is a continuous change and could be heard clearly.</li></p>
                <p><li>Solving this problem, we continued our steps. Then, two potentialmeters are necesssary. The code is the same but add some simliar outputs in the program.</li></p>
                <p><li>However, another problem come up, it can change the frequency at first when there is only one potentialmeter. When there are two potentialmeters, it cannot realize the function as we told before. The function is that we want to rotate different potentialmeters corresponding to each part of the waveform so that it can be a remixer. However, it can only give one sound which controlled by one potential, the other potentialmeter is useless. After dubugging for a long time, we ensure a problem existed in function tone().Then, we get some information.</li></p>
                <img src=class9tone.png width="600px" height="330px">
                <p><li>After carefully reading the picture above, we know that the reason is function tone() in arduino can generate only one waveform once. It is impossible for tone() to generate two different waveforms at the same time.</li></p>
            </div>
          </div>
        </div><!-- /.col-sm-4 --><br/><br/><br/>
        <div class="post-area-top text-center">
        <h2 class="post-area-title">restruct</h2>
        
      </div><!-- /.post-area-top -->
          <div class="panel panel-success">
            <div class="panel-heading">
            </div>
            <div class="panel-body">
                <li>No matter how the situation changes, we should stick it on! Remixer is the final goal. (Though we make a "Noisy board in the end.")We try to recover our program, the normal happy song must be stayed in the PCB. Since tone() cannot generate different waveform at the same time, what if I let it generate different waveforms one by one with a little delay. Therefore, we restructed the program again.</li><br/><br/>
                <p>    digitalWrite(7,HIGH);<br/>
    digitalWrite(4,LOW);<br/>
    while (digitalRead(2) == 0) {<br/>
      int add_val1 = -200 + (int)(analogRead(A0) / 2.5);<br/>
      int add_val2 = -200 + (int)(analogRead(A1) / 2.5);<br/>
      int add_val3 = -200 +(int)(analogRead(A2) / 2.5);<br/>
      int now_delay = (int)analogRead(A3) / 5;<br/>
      tone(outpin,800+add_val1);<br/>
      delay(now_delay);<br/>
      noTone(outpin);<br/>
      tone(outpin2, 1000+add_val2);<br/>
      delay(now_delay);<br/>
      noTone(outpin2);<br/>
      tone(outpin3,1200+add_val3);<br/>
      delay(now_delay);<br/>
      noTone(outpin3);<br/>
    }<br/>
    noTone(outpin);<br/>
    noTone(outpin2);<br/>
    noTone(outpin3);<br/>
    state = 1;<br/>
    }<br/>
    delay(500);<br/>
  }</p><br/><br/>
                <p><li>A0,A1,A2,A3 are four inputs for the potentialmeters. The previous three potentialmeters used for changing three different frequencys. The last potentialmeter used for changing the delay, because when we test the effect of the remixer, it just change the frequency, a little bit boring. The most easiest way is to add the input which can control the delay. In term of the different delay, you can make many different effect from this small board.</li></p>
              </div>
          </div><br/><br/><br/>
       <div class="post-area-top text-center">
        <h2 class="post-area-title">conclusion</h2>
        
      </div><!-- /.post-area-top -->
          <div class="panel panel-info">
            <div class="panel-heading">
              <h3 class="panel-title">Question</h3>
            </div>
            <div class="panel-body">
                <li>This is our final circuit.</li>
                <img src=class9finalcircuit.JPG width="600px" height="500px">
                <p><li>Named "Noisy board", it is a shame to call it "Remixer", because the sound is too noisy, but you can consider it as a simple DJ board. When you open the project, it will first play the happy song. However, once you push the red button, the alarm light will light up , which alert you now this is noisy mode, and you can rotate the potentialmeters as you want, it will give many many different kinds of noisy bomb! You can use it to wake up your roommate when you must get up early to have a fabolab, but they can sleep until the end of the world!</li></p>
                
                <br/><br/><br/>
                <a class="btn" href="index.html">
                    <span class="btn-icon"><i class="fa fa-arrow-circle-right"></i></span>
                  <font size="4">Go back</font>
                  </a> 
            </div>
          </div>
        </div>




<div id="scroll-to-top" class="scroll-to-top">
  <span>
    <i class="fa fa-chevron-up"></i>    
  </span>
</div><!-- /#scroll-to-top -->



<!-- Include modernizr-2.8.3.min.js -->
<script src="assets/js/modernizr-2.8.3.min.js"></script>

<!-- Include jquery.min.js plugin -->
<script src="assets/js/jquery-2.1.0.min.js"></script>

<!-- Include magnific-popup.min.js -->
<script src="assets/js/jquery.magnific-popup.min.js"></script>



<!-- Gmap3.js For Static Maps -->
<script src="assets/js/gmap3.js"></script>

<!-- Javascript Plugins  -->
<script src="assets/js/plugins.js"></script>

<!-- Custom Functions  -->
<script src="assets/js/functions.js"></script>

<script src="assets/js/wow.min.js"></script>

<script type="text/javascript" src="assets/js/jquery.ajaxchimp.min.js"></script>




<script>

 $(document).ready(function() {

  /* -------- One page Navigation ----------*/
  $('#main-menu #menu').onePageNav({
    currentClass: 'active',
    changeHash: false,
    scrollSpeed: 1500,
    scrollThreshold: 0.5,
    scrollOffset: 95,
    filter: ':not(.sub-menu a, .not-in-home)',
    easing: 'swing'
  }); 


  /*----------- Google Map - with support of gmaps.js ----------------*/

  function isMobile() { 
   return ('ontouchstart' in document.documentElement);
 }

 function init_gmap() {
   if ( typeof google == 'undefined' ) return;
   var options = {
    center: [-37.817331, 144.955652],
    zoom: 15,
    mapTypeControl: true,
    mapTypeControlOptions: {
     style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
   },
   navigationControl: true,
   scrollwheel: false,
   streetViewControl: true
 }

 if (isMobile()) {
  options.draggable = false;
}

$('#googleMaps').gmap3({
  map: {
   options: options
 },
 marker: {
   latLng: [-37.817331, 144.955652],
   options: { icon: 'images/mapicon.png' }
 }
});
}

init_gmap();
});



</script>

</body>
</html>

